import{n as P,b as Et,s as je,p as ue,m as de,c as xt,i as vt,I as Tt,d as rt,f as St,w as Fs,H as Us,r as te,g as $s,j as Pt,T as It,k as Gs,S as W,_ as Vs,W as ke,l as He,A as Be,o as zs,t as Me,q as Ct,u as Fe,v as fe,x as Le,y as At,z as Rt,B as Ue,C as $e,D as z,E as kt,F as Bt,G as Ws,J as Ks,K as Mt,L as Js,U as Lt,M as D,N as O,O as K,P as qt,Q as Ot,R as Nt,V as Dt,X as J,Y as qe,Z as F,$ as Ge,a0 as _,a1 as jt,a2 as Ht,a3 as Y,h as Ft,a as Ut,a4 as he,a5 as $t,a6 as Ve,a7 as Gt,a8 as C,a9 as Vt,aa as G,ab as S,ac as zt,ad as Wt,ae as Kt,af as Ys,ag as Qs,ah as Jt,ai as Yt,aj as Qt,ak as Oe,al as Xt,am as Zt,an as Xs,ao as Zs,ap as es,aq as ze,ar as ts,as as We,at as q,au as ss,av as ns,aw as Ke,ax as en,ay as as,az as rs,aA as os,e as is,aB as cs,aC as tn,aD as sn,aE as nn,aF as an,aG as rn,aH as on,aI as Je,aJ as us,aK as ds,aL as ls,aM as cn,aN as me,aO as fs,aP as un,aQ as dn,aR as ln,aS as hs,aT as ms,aU as gs,aV as Ne,aW as Ye,aX as ps,aY as ys,aZ as fn,a_ as hn,a$ as mn,b0 as gn,b1 as pn,b2 as yn,b3 as bn,b4 as wn,b5 as _n,b6 as En,b7 as xn,b8 as vn,b9 as Tn,ba as Sn,bb as Pn,bc as In,bd as Cn,be as An,bf as Rn,bg as kn,bh as Bn,bi as Mn,bj as Ln,bk as qn,bl as On,bm as Nn,bn as Dn,bo as jn,bp as Hn,bq as Fn,br as Un,bs as $n,bt as Gn,bu as Vn,bv as zn,bw as Wn,bx as Kn,by as Jn,bz as Yn,bA as Qn,bB as Xn,bC as Zn,bD as ea,bE as ta,bF as sa,bG as na,bH as aa,bI as ra,bJ as oa,bK as ia,bL as ca,bM as ua,bN as da,bO as la,bP as fa,bQ as ha,bR as ma,bS as ga,bT as pa,bU as ya,bV as ba,bW as wa,bX as _a,bY as Ea,bZ as xa,b_ as va,b$ as Ta,c0 as Sa,c1 as Pa,c2 as Ia,c3 as Ca,c4 as Aa,c5 as Ra,c6 as ka,c7 as Ba,c8 as Ma,c9 as La,ca as qa,cb as Oa,cc as Na,cd as Da,ce as ja,cf as Ha,cg as Fa,ch as Ua,ci as $a,cj as Ga,ck as Va,cl as za,cm as Wa,cn as Ka,co as Ja,cp as Ya,cq as Qa,cr as Xa,cs as Za,ct as er,cu as tr,cv as sr,cw as nr,cx as ar,cy as rr,cz as or,cA as ir,cB as cr,cC as ur,cD as dr,cE as lr,cF as fr,cG as hr,cH as mr,cI as gr,cJ as pr,cK as yr,cL as br,cM as wr,cN as _r,cO as Er,cP as xr,cQ as vr,cR as Tr,cS as Sr,cT as Pr,cU as Ir,cV as Cr,cW as Ar,cX as Rr,cY as kr,cZ as Br,c_ as Mr,c$ as Lr,d0 as qr,d1 as Or,d2 as Nr,d3 as Dr,d4 as jr,d5 as ot,d6 as se,d7 as Hr,d8 as Fr,d9 as Ur,da as $r,db as Gr,dc as Vr,dd as zr,de as Wr,df as Kr,dg as Jr,dh as Yr,di as Qr,dj as Xr,dk as Zr,dl as eo,dm as to,dn as so,dp as no,dq as ao,dr as ro,ds as oo,dt as io,du as co,dv as uo,dw as lo,dx as fo,dy as ho,dz as mo,dA as go,dB as po,dC as yo,dD as bo,dE as wo,dF as _o,dG as Eo,dH as xo,dI as vo,dJ as To,dK as So,dL as Po,dM as Io,dN as Co,dO as Ao,dP as Ro,dQ as ko,dR as Bo,dS as Mo,dT as Lo,dU as qo,dV as Oo,dW as No,dX as Do,dY as jo,dZ as Ho,d_ as Fo,d$ as Uo,e0 as $o,e1 as Go,e2 as Vo,e3 as zo,e4 as Wo,e5 as Ko,e6 as Jo,e7 as Yo,e8 as Qo,e9 as Xo,ea as Zo,eb as ei,ec as ti,ed as si,ee as ni,ef as ai,eg as ri,eh as oi,ei as ii,ej as ci,ek as ui,el as di,em as li,en as fi,eo as hi,ep as mi,eq as gi,er as pi,es as yi,et as bi,eu as wi,ev as _i,ew as Ei,ex as xi,ey as vi,ez as Ti,eA as Si,eB as Pi,eC as Ii,eD as Ci,eE as Ai,eF as Ri,eG as ki,eH as Bi,eI as Mi,eJ as Li,eK as qi,eL as Oi,eM as Ni,eN as Di,eO as ji,eP as Hi,eQ as Fi,eR as Ui,eS as $i,eT as Gi,eU as Vi,eV as zi,eW as Wi,eX as Ki,eY as Ji,eZ as Yi,e_ as it,e$ as Qi,f0 as Xi,f1 as Zi,f2 as ec,f3 as tc,f4 as sc,f5 as ct,f6 as nc,f7 as ac,f8 as rc,f9 as oc,fa as ic,fb as cc,fc as uc,fd as dc,fe as I,ff as lc,fg as fc}from"./index-vmkfTES6.js";import{d as hc}from"./index-VtTy47Bt.js";import{ccipRequest as ut,offchainLookup as mc,offchainLookupAbiItem as gc,offchainLookupSignature as pc}from"./ccip-DJyRG2TK.js";import{e as yc}from"./events-CbnAPEbX.js";function bc(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const r=Object.getOwnPropertyDescriptor(s,a);r&&Object.defineProperty(e,a,r.get?r:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}async function wc(e,{chain:t}){const{id:n,name:s,nativeCurrency:a,rpcUrls:r,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:P(n),chainName:s,nativeCurrency:a,rpcUrls:r.default.http,blockExplorerUrls:o?Object.values(o).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function _c(e,t){const{abi:n,args:s,bytecode:a,...r}=t,o=Et({abi:n,args:s,bytecode:a});return je(e,{...r,data:o})}function Ec(e){let t;if(typeof e=="string")t=ue(e,{modifiers:de});else{const n=xt(e),s=e.length;for(let a=0;a<s;a++){const r=e[a];if(!vt(r)){t=ue(r,{modifiers:de,structs:n});break}}}if(!t)throw new Tt({param:e});return t}function xc(e){const t=[];if(typeof e=="string"){const n=rt(e),s=n.length;for(let a=0;a<s;a++)t.push(ue(n[a],{modifiers:de}))}else{const n=xt(e),s=e.length;for(let a=0;a<s;a++){const r=e[a];if(vt(r))continue;const o=rt(r),c=o.length;for(let i=0;i<c;i++)t.push(ue(o[i],{modifiers:de,structs:n}))}}if(t.length===0)throw new St({params:e});return t}async function vc(e){return e.request({method:`${e.mode}_dumpState`})}async function Tc(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Sc(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[P(t)]})}async function Pc(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Ic(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:P(t)}]}):await e.request({method:`${e.mode}_mine`,params:[P(t),P(n||0)]})}const Cc=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),bs=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Ac=bs.map(e=>(9*e+5)%16);let Qe=[bs],Xe=[Ac];for(let e=0;e<4;e++)for(let t of[Qe,Xe])t.push(t[e].map(n=>Cc[n]));const ws=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Rc=Qe.map((e,t)=>e.map(n=>ws[t][n])),kc=Xe.map((e,t)=>e.map(n=>ws[t][n])),Bc=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Mc=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function dt(e,t,n,s){return e===0?t^n^s:e===1?t&n|~t&s:e===2?(t|~n)^s:e===3?t&s|n&~s:t^(n|~s)}const ne=new Uint32Array(16);class Lc extends Us{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:s,h3:a,h4:r}=this;return[t,n,s,a,r]}set(t,n,s,a,r){this.h0=t|0,this.h1=n|0,this.h2=s|0,this.h3=a|0,this.h4=r|0}process(t,n){for(let d=0;d<16;d++,n+=4)ne[d]=t.getUint32(n,!0);let s=this.h0|0,a=s,r=this.h1|0,o=r,c=this.h2|0,i=c,u=this.h3|0,f=u,h=this.h4|0,m=h;for(let d=0;d<5;d++){const l=4-d,g=Bc[d],p=Mc[d],w=Qe[d],E=Xe[d],v=Rc[d],x=kc[d];for(let b=0;b<16;b++){const y=te(s+dt(d,r,c,u)+ne[w[b]]+g,v[b])+h|0;s=h,h=u,u=te(c,10)|0,c=r,r=y}for(let b=0;b<16;b++){const y=te(a+dt(l,o,i,f)+ne[E[b]]+p,x[b])+m|0;a=m,m=f,f=te(i,10)|0,i=o,o=y}}this.set(this.h1+c+f|0,this.h2+u+m|0,this.h3+h+a|0,this.h4+s+o|0,this.h0+r+i|0)}roundClean(){ne.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const qc=Fs(()=>new Lc);function Oc({chains:e,id:t}){return e.find(n=>n.id===t)}const Se=new Map;async function Nc(e){const{getSocket:t,keepAlive:n=!0,key:s="socket",reconnect:a=!0,url:r}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:i=2e3}=typeof a=="object"?a:{};let u=Se.get(`${s}:${r}`);if(u)return u;let f=0;const{schedule:h}=$s({id:`${s}:${r}`,fn:async()=>{const l=new Map,g=new Map;let p,w,E;async function v(){const x=await t({onClose(){var b,y;for(const T of l.values())(b=T.onError)==null||b.call(T,new W({url:r}));for(const T of g.values())(y=T.onError)==null||y.call(T,new W({url:r}));l.clear(),g.clear(),a&&f<c&&setTimeout(async()=>{f++,await v().catch(console.error)},i)},onError(b){var y,T;p=b;for(const A of l.values())(y=A.onError)==null||y.call(A,p);for(const A of g.values())(T=A.onError)==null||T.call(A,p);l.clear(),g.clear(),u==null||u.close(),a&&f<c&&setTimeout(async()=>{f++,await v().catch(console.error)},i)},onOpen(){p=void 0,f=0},onResponse(b){const y=b.method==="eth_subscription",T=y?b.params.subscription:b.id,A=y?g:l,M=A.get(T);M&&M.onResponse(b),y||A.delete(T)}});return w=x,n&&(E&&clearInterval(E),E=setInterval(()=>{var b;return(b=w.ping)==null?void 0:b.call(w)},o)),x}return await v(),p=void 0,u={close(){E&&clearInterval(E),w.close(),Se.delete(`${s}:${r}`)},get socket(){return w},request({body:x,onError:b,onResponse:y}){p&&b&&b(p);const T=x.id??Gs.take(),A=M=>{var at;typeof M.id=="number"&&T!==M.id||(x.method==="eth_subscribe"&&typeof M.result=="string"&&g.set(M.result,{onResponse:A,onError:b}),x.method==="eth_unsubscribe"&&g.delete((at=x.params)==null?void 0:at[0]),y(M))};l.set(T,{onResponse:A,onError:b});try{w.request({body:{jsonrpc:"2.0",id:T,...x}})}catch(M){b==null||b(M)}},requestAsync({body:x,timeout:b=1e4}){return Pt(()=>new Promise((y,T)=>this.request({body:x,onError:T,onResponse:y})),{errorInstance:new It({body:x,url:r}),timeout:b})},requests:l,subscriptions:g,url:r},Se.set(`${s}:${r}`,u),[u]}}),[m,[d]]=await h();return d}async function ce(e,t={}){const{keepAlive:n,reconnect:s}=t;return Nc({async getSocket({onClose:a,onError:r,onOpen:o,onResponse:c}){const i=await Vs(()=>import("./native-CJ5et6AR.js"),[]).then(d=>d.WebSocket),u=new i(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",h),u.removeEventListener("error",r),u.removeEventListener("open",o),a()}function h({data:d}){c(JSON.parse(d))}u.addEventListener("close",f),u.addEventListener("message",h),u.addEventListener("error",r),u.addEventListener("open",o),u.readyState===i.CONNECTING&&await new Promise((d,l)=>{u&&(u.onopen=d,u.onerror=l)});const{close:m}=u;return Object.assign(u,{close(){m.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ke({url:u.url,cause:new W({url:u.url})});const d={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(d))}catch(d){r(d)}},request({body:d}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ke({body:d,url:u.url,cause:new W({url:u.url})});return u.send(JSON.stringify(d))}})},keepAlive:n,reconnect:s,url:e})}async function Dc(e){const t=await ce(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const Pe="/docs/contract/encodeErrorResult";function jc(e){const{abi:t,errorName:n,args:s}=e;let a=t[0];if(n){const i=He({abi:t,args:s,name:n});if(!i)throw new Be(n,{docsPath:Pe});a=i}if(a.type!=="error")throw new Be(void 0,{docsPath:Pe});const r=zs(a),o=Me(r);let c="0x";if(s&&s.length>0){if(!a.inputs)throw new Ct(a.name,{docsPath:Pe});c=Fe(a.inputs,s)}return fe([o,c])}const Ie="/docs/contract/encodeFunctionResult";function Hc(e){const{abi:t,functionName:n,result:s}=e;let a=t[0];if(n){const o=He({abi:t,name:n});if(!o)throw new Le(n,{docsPath:Ie});a=o}if(a.type!=="function")throw new Le(void 0,{docsPath:Ie});if(!a.outputs)throw new At(a.name,{docsPath:Ie});let r=Array.isArray(s)?s:[s];return a.outputs.length===0&&!r[0]&&(r=[]),Fe(a.outputs,r)}function Fc(e,t){if(e.length!==t.length)throw new Rt({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const a=e[s],r=t[s];n.push(_s(a,r))}return fe(n)}function _s(e,t,n=!1){if(e==="address"){const o=t;if(!Ue(o))throw new $e({address:o});return z(o.toLowerCase(),{size:n?32:null})}if(e==="string")return kt(t);if(e==="bytes")return t;if(e==="bool")return z(Bt(t),{size:n?32:1});const s=e.match(Ws);if(s){const[o,c,i="256"]=s,u=Number.parseInt(i)/8;return P(t,{size:n?32:u,signed:c==="int"})}const a=e.match(Ks);if(a){const[o,c]=a;if(Number.parseInt(c)!==(t.length-2)/2)throw new Mt({expectedSize:Number.parseInt(c),givenSize:(t.length-2)/2});return z(t,{dir:"right",size:n?32:null})}const r=e.match(Js);if(r&&Array.isArray(t)){const[o,c]=r,i=[];for(let u=0;u<t.length;u++)i.push(_s(c,t[u],!0));return i.length===0?"0x":fe(i)}throw new Lt(e)}function De(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Uc(e){return e.opcode==="CREATE2"?xs(e):Es(e)}function Es(e){const t=D(O(e.from));let n=D(e.nonce);return n[0]===0&&(n=new Uint8Array([])),O(`0x${K(Nt([t,n],"bytes")).slice(26)}`)}function xs(e){const t=D(O(e.from)),n=z(De(e.salt)?e.salt:D(e.salt),{size:32}),s="bytecodeHash"in e?De(e.bytecodeHash)?e.bytecodeHash:D(e.bytecodeHash):K(e.bytecode,"bytes");return O(qt(K(Ot([D("0xff"),t,n,s])),12))}function Ze(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Dt(e);return J(e)}return e})(),s=qe(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return vs(s,t)}function vs(e,t="hex"){if(e.bytes.length===0)return t==="hex"?F(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const a=lt(e,n,128),r=e.readBytes(a);return t==="hex"?F(r):r}const s=lt(e,n,192);return $c(e,s,t)}function lt(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new Ge("Invalid RLP prefix")}function $c(e,t,n){const s=e.position,a=[];for(;e.position-s<t;)a.push(vs(e,n));return a}function Ts(e){return _(e)&&jt(e)===32}function Gc(e,t){const n=t||"hex",s=qc(_(e,{strict:!1})?D(e):e);return n==="bytes"?s:Ht(s)}async function Ss({message:e,signature:t}){return Y({hash:Ft(e),signature:t})}async function Ps(e){const{domain:t,message:n,primaryType:s,signature:a,types:r}=e;return Y({hash:Ut({domain:t,message:n,primaryType:s,types:r}),signature:a})}async function Vc({address:e,hash:t,signature:n}){return he(O(e),await Y({hash:t,signature:n}))}async function zc({address:e,message:t,signature:n}){return he(O(e),await Ss({message:t,signature:n}))}async function Wc(e){const{address:t,domain:n,message:s,primaryType:a,signature:r,types:o}=e;return he(O(t),await Ps({domain:n,message:s,primaryType:a,signature:r,types:o}))}function Kc(e){if(!$t(e))return{signature:e};const[t,n,s]=Ve([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:s}}function Is(e){const t=Gt(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&C(t)>=192)return"legacy";throw new Vt({serializedType:t})}function Cs(e){const t=Is(e);return t==="eip1559"?Qc(e):t==="eip2930"?Xc(e):t==="eip4844"?Yc(e):t==="eip7702"?Jc(e):Zc(e)}function Jc(e){const t=ge(e),[n,s,a,r,o,c,i,u,f,h,m,d,l]=t;if(t.length!==10&&t.length!==13)throw new G({attributes:{chainId:n,nonce:s,maxPriorityFeePerGas:a,maxFeePerGas:r,gas:o,to:c,value:i,data:u,accessList:f,authorizationList:h,...t.length>9?{v:m,r:d,s:l}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:C(n),type:"eip7702"};return _(c)&&c!=="0x"&&(g.to=c),_(o)&&o!=="0x"&&(g.gas=S(o)),_(u)&&u!=="0x"&&(g.data=u),_(s)&&s!=="0x"&&(g.nonce=C(s)),_(i)&&i!=="0x"&&(g.value=S(i)),_(r)&&r!=="0x"&&(g.maxFeePerGas=S(r)),_(a)&&a!=="0x"&&(g.maxPriorityFeePerGas=S(a)),f.length!==0&&f!=="0x"&&(g.accessList=pe(f)),h.length!==0&&h!=="0x"&&(g.authorizationList=eu(h)),Qs(g),{...t.length===13?Q(t):void 0,...g}}function Yc(e){const t=ge(e),n=t.length===4,s=n?t[0]:t,a=n?t.slice(1):[],[r,o,c,i,u,f,h,m,d,l,g,p,w,E]=s,[v,x,b]=a;if(!(s.length===11||s.length===14))throw new G({attributes:{chainId:r,nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:i,gas:u,to:f,value:h,data:m,accessList:d,...s.length>9?{v:p,r:w,s:E}:{}},serializedTransaction:e,type:"eip4844"});const y={blobVersionedHashes:g,chainId:C(r),type:"eip4844"};return _(f)&&f!=="0x"&&(y.to=f),_(u)&&u!=="0x"&&(y.gas=S(u)),_(m)&&m!=="0x"&&(y.data=m),_(o)&&o!=="0x"&&(y.nonce=C(o)),_(h)&&h!=="0x"&&(y.value=S(h)),_(l)&&l!=="0x"&&(y.maxFeePerBlobGas=S(l)),_(i)&&i!=="0x"&&(y.maxFeePerGas=S(i)),_(c)&&c!=="0x"&&(y.maxPriorityFeePerGas=S(c)),d.length!==0&&d!=="0x"&&(y.accessList=pe(d)),v&&x&&b&&(y.sidecars=Kt({blobs:v,commitments:x,proofs:b})),Ys(y),{...s.length===14?Q(s):void 0,...y}}function Qc(e){const t=ge(e),[n,s,a,r,o,c,i,u,f,h,m,d]=t;if(!(t.length===9||t.length===12))throw new G({attributes:{chainId:n,nonce:s,maxPriorityFeePerGas:a,maxFeePerGas:r,gas:o,to:c,value:i,data:u,accessList:f,...t.length>9?{v:h,r:m,s:d}:{}},serializedTransaction:e,type:"eip1559"});const l={chainId:C(n),type:"eip1559"};return _(c)&&c!=="0x"&&(l.to=c),_(o)&&o!=="0x"&&(l.gas=S(o)),_(u)&&u!=="0x"&&(l.data=u),_(s)&&s!=="0x"&&(l.nonce=C(s)),_(i)&&i!=="0x"&&(l.value=S(i)),_(r)&&r!=="0x"&&(l.maxFeePerGas=S(r)),_(a)&&a!=="0x"&&(l.maxPriorityFeePerGas=S(a)),f.length!==0&&f!=="0x"&&(l.accessList=pe(f)),zt(l),{...t.length===12?Q(t):void 0,...l}}function Xc(e){const t=ge(e),[n,s,a,r,o,c,i,u,f,h,m]=t;if(!(t.length===8||t.length===11))throw new G({attributes:{chainId:n,nonce:s,gasPrice:a,gas:r,to:o,value:c,data:i,accessList:u,...t.length>8?{v:f,r:h,s:m}:{}},serializedTransaction:e,type:"eip2930"});const d={chainId:C(n),type:"eip2930"};return _(o)&&o!=="0x"&&(d.to=o),_(r)&&r!=="0x"&&(d.gas=S(r)),_(i)&&i!=="0x"&&(d.data=i),_(s)&&s!=="0x"&&(d.nonce=C(s)),_(c)&&c!=="0x"&&(d.value=S(c)),_(a)&&a!=="0x"&&(d.gasPrice=S(a)),u.length!==0&&u!=="0x"&&(d.accessList=pe(u)),Wt(d),{...t.length===11?Q(t):void 0,...d}}function Zc(e){const t=Ze(e,"hex"),[n,s,a,r,o,c,i,u,f]=t;if(!(t.length===6||t.length===9))throw new G({attributes:{nonce:n,gasPrice:s,gas:a,to:r,value:o,data:c,...t.length>6?{v:i,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const h={type:"legacy"};if(_(r)&&r!=="0x"&&(h.to=r),_(a)&&a!=="0x"&&(h.gas=S(a)),_(c)&&c!=="0x"&&(h.data=c),_(n)&&n!=="0x"&&(h.nonce=C(n)),_(o)&&o!=="0x"&&(h.value=S(o)),_(s)&&s!=="0x"&&(h.gasPrice=S(s)),Jt(h),t.length===6)return h;const m=_(i)&&i!=="0x"?S(i):0n;if(f==="0x"&&u==="0x")return m>0&&(h.chainId=Number(m)),h;const d=m,l=Number((d-35n)/2n);if(l>0)h.chainId=l;else if(d!==27n&&d!==28n)throw new Yt({v:d});return h.v=d,h.s=f,h.r=u,h.yParity=d%2n===0n?1:0,h}function ge(e){return Ze(`0x${e.slice(4)}`,"hex")}function pe(e){const t=[];for(let n=0;n<e.length;n++){const[s,a]=e[n];if(!Ue(s,{strict:!1}))throw new $e({address:s});t.push({address:s,storageKeys:a.map(r=>Ts(r)?r:Qt(r))})}return t}function eu(e){const t=[];for(let n=0;n<e.length;n++){const[s,a,r,o,c,i]=e[n];t.push({chainId:C(s),contractAddress:a,nonce:C(r),...Q([o,c,i])})}return t}function Q(e){const t=e.slice(-3),n=t[0]==="0x"||S(t[0])===0n?27n:28n;return{r:Oe(t[1],{size:32}),s:Oe(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class As extends Ge{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function et(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new As({value:e});let[n,s="0"]=e.split(".");const a=n.startsWith("-");if(a&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[r,o,c]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],i=Math.round(+`${o}.${c}`);i>9?s=`${BigInt(r)+BigInt(1)}0`.padStart(r.length+1,"0"):s=`${r}${i}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${n}${s}`)}function tu(e,t="wei"){return et(e,Xt[t])}function su(e,t="wei"){return et(e,Zt[t])}function Rs(e){const{source:t}=e,n=new Map,s=new Xs(8192),a=new Map,r=({address:o,chainId:c})=>`${o}.${c}`;return{async consume({address:o,chainId:c,client:i}){const u=r({address:o,chainId:c}),f=this.get({address:o,chainId:c,client:i});this.increment({address:o,chainId:c});const h=await f;return await t.set({address:o,chainId:c},h),s.set(u,h),h},async increment({address:o,chainId:c}){const i=r({address:o,chainId:c}),u=n.get(i)??0;n.set(i,u+1)},async get({address:o,chainId:c,client:i}){const u=r({address:o,chainId:c});let f=a.get(u);return f||(f=(async()=>{try{const m=await t.get({address:o,chainId:c,client:i}),d=s.get(u)??0;return d>0&&m<=d?d+1:(s.delete(u),m)}finally{this.reset({address:o,chainId:c})}})(),a.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:c}){const i=r({address:o,chainId:c});n.delete(i),a.delete(i)}}}function nu(){return{async get(e){const{address:t,client:n}=e;return Zs(n,{address:t,blockTag:"pending"})},set(){}}}const au=Rs({source:nu()});async function ru(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>es(s))}async function ou(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function iu(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>O(n))}async function cu(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function uu(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function du(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function lu(e){return await e.request({method:"txpool_content"})}async function fu(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:C(t),queued:C(n)}}async function hu(e){return await e.request({method:"txpool_inspect"})}async function mu(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function gu(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function pu(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function yu(e,t){var u,f,h,m;const{account:n=e.account,chain:s=e.chain,...a}=t;if(!n)throw new ze({docsPath:"/docs/actions/wallet/signTransaction"});const r=We(n);ts({account:r,...t});const o=await q(e,ss,"getChainId")({});s!==null&&ns({currentChainId:o,chain:s});const c=(s==null?void 0:s.formatters)||((u=e.chain)==null?void 0:u.formatters),i=((f=c==null?void 0:c.transactionRequest)==null?void 0:f.format)||Ke;return r.signTransaction?r.signTransaction({...a,chainId:o},{serializer:(m=(h=e.chain)==null?void 0:h.serializers)==null?void 0:m.transaction}):await e.request({method:"eth_signTransaction",params:[{...i(a),chainId:P(o),from:r.address}]},{retryCount:0})}async function bu(e,t){var w,E,v;const{accessList:n,data:s,from:a,gas:r,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:h,...m}=t,d=(v=(E=(w=e.chain)==null?void 0:w.formatters)==null?void 0:E.transactionRequest)==null?void 0:v.format,g=(d||Ke)({...en(m,{format:d}),accessList:n,data:s,from:a,gas:r,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:h});return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}async function wu(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,P(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,P(n)]})}async function _u(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function Eu(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[P(t)]})}async function xu(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function vu(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Tu(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Su(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function Pu(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Iu(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[P(t)]})}async function Cu(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[P(t)]})}async function Au(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[P(t)]})}async function Ru(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,P(n)]})}async function ku(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Bu(e,{address:t,index:n,value:s}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?P(n):n,s]})}async function Mu(e){return await e.request({method:"evm_snapshot"})}async function Lu(e,t){const{account:n=e.account,domain:s,message:a,primaryType:r}=t;if(!n)throw new ze({docsPath:"/docs/actions/wallet/signTypedData"});const o=We(n),c={EIP712Domain:as({domain:s}),...t.types};if(rs({domain:s,message:a,primaryType:r,types:c}),o.signTypedData)return o.signTypedData({domain:s,message:a,primaryType:r,types:c});const i=os({domain:s,message:a,primaryType:r,types:c});return e.request({method:"eth_signTypedData_v4",params:[o.address,i]},{retryCount:0})}async function qu(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}async function Ou(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:P(t)}]},{retryCount:0})}async function Nu(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function ks(e,t){const{abi:n,account:s=e.account,address:a,args:r,dataSuffix:o,functionName:c,...i}=t;if(typeof s>"u")throw new ze({docsPath:"/docs/contract/writeContract"});const u=s?We(s):null,f=is({abi:n,args:r,functionName:c});try{return await q(e,je,"sendTransaction")({data:`${f}${o?o.replace("0x",""):""}`,to:a,account:u,...i})}catch(h){throw cs(h,{abi:n,address:a,args:r,docsPath:"/docs/contract/writeContract",functionName:c,sender:u==null?void 0:u.address})}}function Du({abi:e,address:t,client:n}){const s=n,[a,r]=s?"public"in s&&"wallet"in s?[s.public,s.wallet]:"public"in s?[s.public,void 0]:"wallet"in s?[void 0,s.wallet]:[s,s]:[void 0,void 0],o=a!=null,c=r!=null,i={};let u=!1,f=!1,h=!1;for(const m of e)if(m.type==="function"?m.stateMutability==="view"||m.stateMutability==="pure"?u=!0:f=!0:m.type==="event"&&(h=!0),u&&f&&h)break;return o&&(u&&(i.read=new Proxy({},{get(m,d){return(...l)=>{const{args:g,options:p}=ae(l);return q(a,tn,"readContract")({abi:e,address:t,functionName:d,args:g,...p})}}})),f&&(i.simulate=new Proxy({},{get(m,d){return(...l)=>{const{args:g,options:p}=ae(l);return q(a,sn,"simulateContract")({abi:e,address:t,functionName:d,args:g,...p})}}})),h&&(i.createEventFilter=new Proxy({},{get(m,d){return(...l)=>{const g=e.find(E=>E.type==="event"&&E.name===d),{args:p,options:w}=Ce(l,g);return q(a,nn,"createContractEventFilter")({abi:e,address:t,eventName:d,args:p,...w})}}}),i.getEvents=new Proxy({},{get(m,d){return(...l)=>{const g=e.find(E=>E.type==="event"&&E.name===d),{args:p,options:w}=Ce(l,g);return q(a,an,"getContractEvents")({abi:e,address:t,eventName:d,args:p,...w})}}}),i.watchEvent=new Proxy({},{get(m,d){return(...l)=>{const g=e.find(E=>E.type==="event"&&E.name===d),{args:p,options:w}=Ce(l,g);return q(a,rn,"watchContractEvent")({abi:e,address:t,eventName:d,args:p,...w})}}}))),c&&f&&(i.write=new Proxy({},{get(m,d){return(...l)=>{const{args:g,options:p}=ae(l);return q(r,ks,"writeContract")({abi:e,address:t,functionName:d,args:g,...p})}}})),(o||c)&&f&&(i.estimateGas=new Proxy({},{get(m,d){return(...l)=>{const{args:g,options:p}=ae(l);return q(a??r,on,"estimateContractGas")({abi:e,address:t,functionName:d,args:g,...p,account:p.account??r.account})}}})),i.address=t,i.abi=e,i}function ae(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],s=(t?e[1]:e[0])??{};return{args:n,options:s}}function Ce(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(r=>r.indexed):e.length===2&&(n=!0);const s=n?e[0]:void 0,a=(n?e[1]:e[0])??{};return{args:s,options:a}}function ju(e,t={}){const{key:n="fallback",name:s="Fallback",rank:a=!1,retryCount:r,retryDelay:o}=t;return({chain:c,pollingInterval:i=4e3,timeout:u,...f})=>{let h=e,m=()=>{};const d=Je({key:n,name:s,async request({method:l,params:g}){let p;const w=async(E=0)=>{const v=h[E]({...f,chain:c,retryCount:0,timeout:u});try{const x=await v.request({method:l,params:g});return m({method:l,params:g,response:x,transport:v,status:"success"}),x}catch(x){if(m({error:x,method:l,params:g,transport:v,status:"error"}),Hu(x)||E===h.length-1||(p??(p=h.slice(E+1).some(b=>{const{include:y,exclude:T}=b({chain:c}).config.methods||{};return y?y.includes(l):T?!T.includes(l):!0})),!p))throw x;return w(E+1)}};return w()},retryCount:r,retryDelay:o,type:"fallback"},{onResponse:l=>m=l,transports:h.map(l=>l({chain:c,retryCount:0}))});if(a){const l=typeof a=="object"?a:{};Fu({chain:c,interval:l.interval??i,onTransports:g=>h=g,ping:l.ping,sampleCount:l.sampleCount,timeout:l.timeout,transports:h,weights:l.weights})}return d}}function Hu(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===us.code||e.code===ds.code||ls.nodeMessage.test(e.message)||e.code===5e3))}function Fu({chain:e,interval:t=4e3,onTransports:n,ping:s,sampleCount:a=10,timeout:r=1e3,transports:o,weights:c={}}){const{stability:i=.7,latency:u=.3}=c,f=[],h=async()=>{const m=await Promise.all(o.map(async g=>{const p=g({chain:e,retryCount:0,timeout:r}),w=Date.now();let E,v;try{await(s?s({transport:p}):p.request({method:"net_listening"})),v=1}catch{v=0}finally{E=Date.now()}return{latency:E-w,success:v}}));f.push(m),f.length>a&&f.shift();const d=Math.max(...f.map(g=>Math.max(...g.map(({latency:p})=>p)))),l=o.map((g,p)=>{const w=f.map(y=>y[p].latency),v=1-w.reduce((y,T)=>y+T,0)/w.length/d,x=f.map(y=>y[p].success),b=x.reduce((y,T)=>y+T,0)/x.length;return b===0?[0,p]:[u*v+i*b,p]}).sort((g,p)=>p[0]-g[0]);n(l.map(([,g])=>o[g])),await cn(t),h()};h()}function Uu(e){const{key:t="public",name:n="Public Client"}=e;return me({...e,key:t,name:n,type:"publicClient"}).extend(fs)}function Bs({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:s=>uu(n,s),dumpState:()=>vc(n),getAutomine:()=>du(n),getTxpoolContent:()=>lu(n),getTxpoolStatus:()=>fu(n),impersonateAccount:s=>Tc(n,s),increaseTime:s=>Sc(n,s),inspectTxpool:()=>hu(n),loadState:s=>Pc(n,s),mine:s=>Ic(n,s),removeBlockTimestampInterval:()=>mu(n),reset:s=>gu(n,s),revert:s=>pu(n,s),sendUnsignedTransaction:s=>bu(n,s),setAutomine:s=>_u(n,s),setBalance:s=>wu(n,s),setBlockGasLimit:s=>Eu(n,s),setBlockTimestampInterval:s=>xu(n,s),setCode:s=>vu(n,s),setCoinbase:s=>Tu(n,s),setIntervalMining:s=>Su(n,s),setLoggingEnabled:s=>Pu(n,s),setMinGasPrice:s=>Iu(n,s),setNextBlockBaseFeePerGas:s=>Cu(n,s),setNextBlockTimestamp:s=>Au(n,s),setNonce:s=>Ru(n,s),setRpcUrl:s=>ku(n,s),setStorageAt:s=>Bu(n,s),snapshot:()=>Mu(n),stopImpersonatingAccount:s=>qu(n,s)}}}function $u(e){const{key:t="test",name:n="Test Client",mode:s}=e;return me({...e,key:t,name:n,type:"testClient"}).extend(r=>({mode:s,...Bs({mode:s})(r)}))}function Ms(e){return{addChain:t=>wc(e,t),deployContract:t=>_c(e,t),getAddresses:()=>ru(e),getChainId:()=>ss(e),getPermissions:()=>ou(e),prepareTransactionRequest:t=>ln(e,t),requestAddresses:()=>iu(e),requestPermissions:t=>cu(e,t),sendRawTransaction:t=>dn(e,t),sendTransaction:t=>je(e,t),signMessage:t=>un(e,t),signTransaction:t=>yu(e,t),signTypedData:t=>Lu(e,t),switchChain:t=>Ou(e,t),watchAsset:t=>Nu(e,t),writeContract:t=>ks(e,t)}}function Gu(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return me({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(Ms)}function Vu(e,t={}){const{keepAlive:n,key:s="webSocket",methods:a,name:r="WebSocket JSON-RPC",reconnect:o,retryDelay:c}=t;return({chain:i,retryCount:u,timeout:f})=>{var l;const h=t.retryCount??u,m=f??t.timeout??1e4,d=e||((l=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:l[0]);if(!d)throw new hs;return Je({key:s,methods:a,name:r,async request({method:g,params:p}){const w={method:g,params:p},E=await ce(d,{keepAlive:n,reconnect:o}),{error:v,result:x}=await E.requestAsync({body:w,timeout:m});if(v)throw new ms({body:w,error:v,url:d});return x},retryCount:h,retryDelay:c,timeout:m,type:"webSocket"},{getSocket(){return Dc(d)},getRpcClient(){return ce(d)},async subscribe({params:g,onData:p,onError:w}){const E=await ce(d),{result:v}=await new Promise((x,b)=>E.request({body:{method:"eth_subscribe",params:g},onError(y){b(y),w==null||w(y)},onResponse(y){if(y.error){b(y.error),w==null||w(y.error);return}if(typeof y.id=="number"){x(y);return}y.method==="eth_subscription"&&p(y.params)}}));return{subscriptionId:v,async unsubscribe(){return new Promise(x=>E.request({body:{method:"eth_unsubscribe",params:[v]},onResponse:x}))}}}})}}class zu extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const Ae="/docs/contract/decodeDeployData";function Wu(e){const{abi:t,bytecode:n,data:s}=e;if(s===n)return{bytecode:n};const a=t.find(o=>"type"in o&&o.type==="constructor");if(!a)throw new gs({docsPath:Ae});if(!("inputs"in a))throw new Ne({docsPath:Ae});if(!a.inputs||a.inputs.length===0)throw new Ne({docsPath:Ae});return{args:Ve(a.inputs,`0x${s.replace(n,"")}`),bytecode:n}}function Ku({r:e,yParityAndS:t}){const n=J(t),s=n[0]&128?1:0,a=n;return s===1&&(a[0]&=127),{r:e,s:F(a),yParity:s}}function ft(e){const{r:t,s:n}=Ye.Signature.fromCompact(e.slice(2,130));return{r:P(t,{size:32}),yParityAndS:P(n,{size:32})}}function ht(e){const{r:t,s:n}=Ye.Signature.fromCompact(e.slice(2,130)),s=+`0x${e.slice(130)}`,[a,r]=(()=>{if(s===0||s===1)return[void 0,s];if(s===27)return[BigInt(s),0];if(s===28)return[BigInt(s),1];throw new Error("Invalid yParityOrV value")})();return typeof a<"u"?{r:P(t,{size:32}),s:P(n,{size:32}),v:a,yParity:r}:{r:P(t,{size:32}),s:P(n,{size:32}),yParity:r}}async function Ju(e){const{serializedTransaction:t,signature:n}=e,s=Cs(t),a=n??{r:s.r,s:s.s,v:s.v,yParity:s.yParity},r=ps({...s,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Y({hash:K(r),signature:a})}function Yu(e){const{r:t,s:n,v:s,yParity:a}=e,r=Number(a??s-27n);let o=n;if(r===1){const c=J(n);c[0]|=128,o=F(c)}return{r:t,yParityAndS:o}}function mt({r:e,yParityAndS:t}){return`0x${new Ye.Signature(S(e),S(t)).toCompactHex()}`}function Qu(e){const{sidecars:t,version:n}=e,s=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),a=[];for(const{commitment:r}of t)a.push(ys({commitment:r,to:s,version:n}));return a}function Xu(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(c=>J(c)):e.blobs,s=n.reduce((c,i)=>c+i.length,0),a=qe(new Uint8Array(s));let r=!0;for(const c of n){const i=qe(c);for(;r&&i.position<c.length;){i.incrementPosition(1);let u=31;c.length-i.position<31&&(u=c.length-i.position);for(const f in Array.from({length:u})){const h=i.readByte();if(h===128&&!i.inspectBytes(i.remaining).includes(128)){r=!1;break}a.pushByte(h)}}}const o=a.bytes.slice(0,a.position);return t==="hex"?F(o):o}function Ls({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Zu(e,t){try{e.loadTrustedSetup(t)}catch(n){const s=n;if(!s.message.includes("trusted setup is already loaded"))throw s}return Ls(e)}const ed=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:gs,AbiConstructorParamsNotFoundError:Ne,AbiDecodingDataSizeInvalidError:fn,AbiDecodingDataSizeTooSmallError:hn,AbiDecodingZeroDataError:mn,AbiEncodingArrayLengthMismatchError:gn,AbiEncodingBytesSizeMismatchError:pn,AbiEncodingLengthMismatchError:Rt,AbiErrorInputsNotFoundError:Ct,AbiErrorNotFoundError:Be,AbiErrorSignatureNotFoundError:yn,AbiEventNotFoundError:bn,AbiEventSignatureEmptyTopicsError:wn,AbiEventSignatureNotFoundError:_n,AbiFunctionNotFoundError:Le,AbiFunctionOutputsNotFoundError:At,AbiFunctionSignatureNotFoundError:En,AccountStateConflictError:xn,BaseError:Ge,BaseFeeScalarError:vn,BlockNotFoundError:Tn,BytesSizeMismatchError:Mt,CallExecutionError:Sn,ChainDisconnectedError:Pn,ChainDoesNotSupportContract:In,ChainMismatchError:Cn,ChainNotFoundError:An,CircularReferenceError:Rn,ClientChainNotConfiguredError:kn,ContractFunctionExecutionError:Bn,ContractFunctionRevertedError:Mn,ContractFunctionZeroDataError:Ln,CounterfactualDeploymentFailedError:qn,DecodeLogDataMismatch:On,DecodeLogTopicsMismatch:Nn,EIP1193ProviderRpcError:zu,Eip1559FeesNotSupportedError:Dn,EnsAvatarInvalidNftUriError:jn,EnsAvatarUnsupportedNamespaceError:Hn,EnsAvatarUriResolutionError:Fn,EstimateGasExecutionError:Un,ExecutionRevertedError:ls,FeeCapTooHighError:$n,FeeCapTooLowError:Gn,FeeConflictError:Vn,FilterTypeNotSupportedError:zn,HttpRequestError:Wn,InsufficientFundsError:Kn,IntegerOutOfRangeError:Jn,InternalRpcError:Yn,IntrinsicGasTooHighError:Qn,IntrinsicGasTooLowError:Xn,InvalidAbiDecodingTypeError:Zn,InvalidAbiEncodingTypeError:ea,InvalidAbiItemError:ta,InvalidAbiParameterError:Tt,InvalidAbiParametersError:St,InvalidAbiTypeParameterError:sa,InvalidAddressError:$e,InvalidArrayError:na,InvalidBytesBooleanError:aa,InvalidChainIdError:ra,InvalidDecimalNumberError:As,InvalidDefinitionTypeError:oa,InvalidDomainError:ia,InvalidFunctionModifierError:ca,InvalidHexBooleanError:ua,InvalidHexValueError:Dt,InvalidInputRpcError:da,InvalidLegacyVError:Yt,InvalidModifierError:la,InvalidParameterError:fa,InvalidParamsRpcError:ha,InvalidParenthesisError:ma,InvalidPrimaryTypeError:ga,InvalidRequestRpcError:pa,InvalidSerializableTransactionError:ya,InvalidSerializedTransactionError:G,InvalidSerializedTransactionTypeError:Vt,InvalidSignatureError:ba,InvalidStorageKeySizeError:wa,InvalidStructSignatureError:_a,InvalidStructTypeError:Ea,JsonRpcVersionUnsupportedError:xa,LimitExceededRpcError:va,MaxFeePerGasTooLowError:Ta,MethodNotFoundRpcError:Sa,MethodNotSupportedRpcError:Pa,NonceMaxValueError:Ia,NonceTooHighError:Ca,NonceTooLowError:Aa,ParseRpcError:Ra,ProviderDisconnectedError:ka,ProviderRpcError:Ba,RawContractError:Ma,ResourceNotFoundRpcError:La,ResourceUnavailableRpcError:qa,RpcError:Oa,RpcRequestError:ms,SizeExceedsPaddingSizeError:Na,SizeOverflowError:Da,SliceOffsetOutOfBoundsError:ja,SocketClosedError:W,SolidityProtectedKeywordError:Ha,StateAssignmentConflictError:Fa,SwitchChainError:Ua,TimeoutError:It,TipAboveFeeCapError:$a,TransactionExecutionError:Ga,TransactionNotFoundError:Va,TransactionReceiptNotFoundError:za,TransactionRejectedRpcError:us,TransactionTypeNotSupportedError:Wa,UnauthorizedProviderError:Ka,UnknownNodeError:Ja,UnknownRpcError:Ya,UnknownSignatureError:Qa,UnknownTypeError:Xa,UnsupportedPackedAbiType:Lt,UnsupportedProviderMethodError:Za,UrlRequiredError:hs,UserRejectedRequestError:ds,WaitForTransactionReceiptTimeoutError:er,WebSocketRequestError:ke,assertCurrentChain:ns,assertRequest:ts,assertTransactionEIP1559:zt,assertTransactionEIP2930:Wt,assertTransactionLegacy:Jt,blobsToCommitments:tr,blobsToProofs:sr,boolToBytes:nr,boolToHex:Bt,bytesToBigInt:ar,bytesToBool:rr,bytesToHex:F,bytesToNumber:or,bytesToRlp:ir,bytesToString:cr,ccipFetch:ut,ccipRequest:ut,checksumAddress:es,commitmentToVersionedHash:ys,commitmentsToVersionedHashes:ur,compactSignatureToHex:mt,compactSignatureToSignature:Ku,concat:Ot,concatBytes:dr,concatHex:fe,createClient:me,createNonceManager:Rs,createPublicClient:Uu,createTestClient:$u,createTransport:Je,createWalletClient:Gu,custom:lr,decodeAbiParameters:Ve,decodeDeployData:Wu,decodeErrorResult:fr,decodeEventLog:hr,decodeFunctionData:mr,decodeFunctionResult:gr,defineBlock:pr,defineChain:yr,defineKzg:Ls,defineTransaction:br,defineTransactionReceipt:wr,defineTransactionRequest:_r,deploylessCallViaBytecodeBytecode:Er,deploylessCallViaFactoryBytecode:xr,domainSeparator:vr,encodeAbiParameters:Fe,encodeDeployData:Et,encodeErrorResult:jc,encodeEventTopics:Tr,encodeFunctionData:is,encodeFunctionResult:Hc,encodePacked:Fc,erc20Abi:Sr,erc20Abi_bytes32:Pr,erc4626Abi:Ir,erc721Abi:Cr,ethAddress:Ar,etherUnits:Xt,extractChain:Oc,fallback:ju,formatBlock:Rr,formatEther:kr,formatGwei:Br,formatLog:Mr,formatTransaction:Lr,formatTransactionReceipt:qr,formatTransactionRequest:Ke,formatUnits:Or,fromBlobs:Xu,fromBytes:Nr,fromHex:Dr,fromRlp:Ze,getAbiItem:He,getAddress:O,getChainContractAddress:jr,getContract:Du,getContractAddress:Uc,getContractError:cs,getCreate2Address:xs,getCreateAddress:Es,getEventSelector:ot,getEventSignature:se,getFunctionSelector:Me,getFunctionSignature:se,getSerializedTransactionType:Is,getTransactionType:Hr,getTypesForEIP712Domain:as,gweiUnits:Zt,hashDomain:Fr,hashMessage:Ft,hashStruct:Ur,hashTypedData:Ut,hexToBigInt:S,hexToBool:$r,hexToBytes:J,hexToCompactSignature:ft,hexToNumber:C,hexToRlp:Gr,hexToSignature:ht,hexToString:Vr,http:zr,isAddress:Ue,isAddressEqual:he,isBytes:De,isErc6492Signature:$t,isHash:Ts,isHex:_,keccak256:K,labelhash:Wr,maxInt104:Kr,maxInt112:Jr,maxInt120:Yr,maxInt128:Qr,maxInt136:Xr,maxInt144:Zr,maxInt152:eo,maxInt16:to,maxInt160:so,maxInt168:no,maxInt176:ao,maxInt184:ro,maxInt192:oo,maxInt200:io,maxInt208:co,maxInt216:uo,maxInt224:lo,maxInt232:fo,maxInt24:ho,maxInt240:mo,maxInt248:go,maxInt256:po,maxInt32:yo,maxInt40:bo,maxInt48:wo,maxInt56:_o,maxInt64:Eo,maxInt72:xo,maxInt8:vo,maxInt80:To,maxInt88:So,maxInt96:Po,maxUint104:Io,maxUint112:Co,maxUint120:Ao,maxUint128:Ro,maxUint136:ko,maxUint144:Bo,maxUint152:Mo,maxUint16:Lo,maxUint160:qo,maxUint168:Oo,maxUint176:No,maxUint184:Do,maxUint192:jo,maxUint200:Ho,maxUint208:Fo,maxUint216:Uo,maxUint224:$o,maxUint232:Go,maxUint24:Vo,maxUint240:zo,maxUint248:Wo,maxUint256:Ko,maxUint32:Jo,maxUint40:Yo,maxUint48:Qo,maxUint56:Xo,maxUint64:Zo,maxUint72:ei,maxUint8:ti,maxUint80:si,maxUint88:ni,maxUint96:ai,minInt104:ri,minInt112:oi,minInt120:ii,minInt128:ci,minInt136:ui,minInt144:di,minInt152:li,minInt16:fi,minInt160:hi,minInt168:mi,minInt176:gi,minInt184:pi,minInt192:yi,minInt200:bi,minInt208:wi,minInt216:_i,minInt224:Ei,minInt232:xi,minInt24:vi,minInt240:Ti,minInt248:Si,minInt256:Pi,minInt32:Ii,minInt40:Ci,minInt48:Ai,minInt56:Ri,minInt64:ki,minInt72:Bi,minInt8:Mi,minInt80:Li,minInt88:qi,minInt96:Oi,multicall3Abi:Ni,namehash:Di,nonceManager:au,numberToBytes:ji,numberToHex:P,offchainLookup:mc,offchainLookupAbiItem:gc,offchainLookupSignature:pc,pad:z,padBytes:Hi,padHex:Oe,parseAbi:Fi,parseAbiItem:Ui,parseAbiParameter:Ec,parseAbiParameters:xc,parseCompactSignature:ft,parseErc6492Signature:Kc,parseEther:tu,parseEventLogs:$i,parseGwei:su,parseSignature:ht,parseTransaction:Cs,parseUnits:et,prepareEncodeFunctionData:Gi,presignMessagePrefix:Vi,publicActions:fs,recoverAddress:Y,recoverMessageAddress:Ss,recoverPublicKey:zi,recoverTransactionAddress:Ju,recoverTypedDataAddress:Ps,ripemd160:Gc,rpcSchema:Wi,rpcTransactionType:Ki,serializeAccessList:Ji,serializeCompactSignature:mt,serializeErc6492Signature:Yi,serializeSignature:it,serializeTransaction:ps,serializeTypedData:os,setErrorConfig:Qi,setupKzg:Zu,sha256:Xi,sidecarsToVersionedHashes:Qu,signatureToCompactSignature:Yu,signatureToHex:it,size:jt,slice:qt,sliceBytes:Zi,sliceHex:Gt,stringToBytes:ec,stringToHex:kt,stringify:tc,testActions:Bs,toBlobSidecars:Kt,toBlobs:sc,toBytes:D,toEventHash:ct,toEventSelector:ot,toEventSignature:se,toFunctionHash:ct,toFunctionSelector:Me,toFunctionSignature:se,toHex:Ht,toPrefixedMessage:nc,toRlp:Nt,transactionType:ac,trim:Qt,universalSignatureValidatorAbi:rc,universalSignatureValidatorByteCode:oc,validateTypedData:rs,verifyHash:Vc,verifyMessage:zc,verifyTypedData:Wc,walletActions:Ms,webSocket:Vu,weiUnits:ic,withRetry:cc,withTimeout:Pt,zeroAddress:uc,zeroHash:dc},Symbol.toStringTag,{value:"Module"}));var tt={},ye={},qs={},le={},Os={},X={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.getSDKVersion=void 0;const td=()=>"9.1.0";Z.getSDKVersion=td;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.generateRequestId=void 0;const sd=e=>e.toString(16).padStart(2,"0"),nd=e=>{const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,sd).join("")},ad=()=>typeof window<"u"?nd(10):new Date().getTime().toString(36);be.generateRequestId=ad;Object.defineProperty(X,"__esModule",{value:!0});X.MessageFormatter=void 0;const rd=Z,od=be;class we{}X.MessageFormatter=we;we.makeRequest=(e,t)=>({id:(0,od.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,rd.getSDKVersion)()}});we.makeResponse=(e,t,n)=>({id:e,success:!0,version:n,data:t});we.makeErrorResponse=(e,t,n)=>({id:e,success:!1,error:t,version:n});var B={};Object.defineProperty(B,"__esModule",{value:!0});B.RestrictedMethods=B.Methods=void 0;var gt;(function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"})(gt||(B.Methods=gt={}));var pt;(function(e){e.requestAddressBook="requestAddressBook"})(pt||(B.RestrictedMethods=pt={}));(function(e){var t=I&&I.__createBinding||(Object.create?function(r,o,c,i){i===void 0&&(i=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(r,i,u)}:function(r,o,c,i){i===void 0&&(i=c),r[i]=o[c]}),n=I&&I.__exportStar||function(r,o){for(var c in r)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,r,c)};Object.defineProperty(e,"__esModule",{value:!0});const s=X;class a{constructor(o=null,c=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:i,data:u,source:f})=>{const h=!u,m=!this.isServer&&f===window.parent,d=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),l=typeof d=="number"&&d>=1;let g=!0;return Array.isArray(this.allowedOrigins)&&(g=this.allowedOrigins.find(p=>p.test(i))!==void 0),!h&&m&&l&&g},this.logIncomingMessage=i=>{console.info(`Safe Apps SDK v1: A message was received from origin ${i.origin}. `,i.data)},this.onParentMessage=i=>{this.isValidMessage(i)&&(this.debugMode&&this.logIncomingMessage(i),this.handleIncomingMessage(i.data))},this.handleIncomingMessage=i=>{const{id:u}=i,f=this.callbacks.get(u);f&&(f(i),this.callbacks.delete(u))},this.send=(i,u)=>{const f=s.MessageFormatter.makeRequest(i,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(f,"*"),new Promise((h,m)=>{this.callbacks.set(f.id,d=>{if(!d.success){m(new Error(d.error));return}h(d)})})},this.allowedOrigins=o,this.debugMode=c,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=a,n(B,e)})(Os);var _e={},Ee={},xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.isObjectEIP712TypedData=void 0;const id=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;xe.isObjectEIP712TypedData=id;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});var Ds={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var t=hc;Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return t.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return t.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return t.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return t.TransferDirection}})})(Ds);var js={};Object.defineProperty(js,"__esModule",{value:!0});(function(e){var t=I&&I.__createBinding||(Object.create?function(s,a,r,o){o===void 0&&(o=r);var c=Object.getOwnPropertyDescriptor(a,r);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(s,o,c)}:function(s,a,r,o){o===void 0&&(o=r),s[o]=a[r]}),n=I&&I.__exportStar||function(s,a){for(var r in s)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&t(a,s,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(xe,e),n(Ns,e),n(Ds,e),n(js,e)})(Ee);Object.defineProperty(_e,"__esModule",{value:!0});_e.TXs=void 0;const re=B,cd=Ee;class ud{constructor(t){this.communicator=t}async getBySafeTxHash(t){if(!t)throw new Error("Invalid safeTxHash");return(await this.communicator.send(re.Methods.getTxBySafeTxHash,{safeTxHash:t})).data}async signMessage(t){const n={message:t};return(await this.communicator.send(re.Methods.signMessage,n)).data}async signTypedMessage(t){if(!(0,cd.isObjectEIP712TypedData)(t))throw new Error("Invalid typed data");return(await this.communicator.send(re.Methods.signTypedMessage,{typedData:t})).data}async send({txs:t,params:n}){if(!t||!t.length)throw new Error("No transactions were passed");const s={txs:t,params:n};return(await this.communicator.send(re.Methods.sendTransactions,s)).data}}_e.TXs=ud;var ve={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.RPC_CALLS=void 0;V.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};Object.defineProperty(ve,"__esModule",{value:!0});ve.Eth=void 0;const R=V,dd=B,L={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class ld{constructor(t){this.communicator=t,this.call=this.buildRequest({call:R.RPC_CALLS.eth_call,formatters:[null,L.defaultBlockParam]}),this.getBalance=this.buildRequest({call:R.RPC_CALLS.eth_getBalance,formatters:[null,L.defaultBlockParam]}),this.getCode=this.buildRequest({call:R.RPC_CALLS.eth_getCode,formatters:[null,L.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:R.RPC_CALLS.eth_getStorageAt,formatters:[null,L.blockNumberToHex,L.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:R.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:R.RPC_CALLS.eth_getBlockByHash,formatters:[null,L.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:R.RPC_CALLS.eth_getBlockByNumber,formatters:[L.blockNumberToHex,L.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:R.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:R.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:R.RPC_CALLS.eth_getTransactionCount,formatters:[null,L.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:R.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=n=>this.buildRequest({call:R.RPC_CALLS.eth_estimateGas})([n]),this.setSafeSettings=this.buildRequest({call:R.RPC_CALLS.safe_setSettings})}buildRequest(t){const{call:n,formatters:s}=t;return async a=>{s&&Array.isArray(a)&&s.forEach((c,i)=>{c&&(a[i]=c(a[i]))});const r={call:n,params:a||[]};return(await this.communicator.send(dd.Methods.rpcCall,r)).data}}}ve.Eth=ld;var Te={};const fd=lc(ed);var U={};Object.defineProperty(U,"__esModule",{value:!0});U.MAGIC_VALUE_BYTES=U.MAGIC_VALUE=void 0;const hd="0x1626ba7e";U.MAGIC_VALUE=hd;const md="0x20c13b0b";U.MAGIC_VALUE_BYTES=md;var st={},ee={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.PermissionsError=j.PERMISSIONS_REQUEST_REJECTED=void 0;j.PERMISSIONS_REQUEST_REJECTED=4001;class nt extends Error{constructor(t,n,s){super(t),this.code=n,this.data=s,Object.setPrototypeOf(this,nt.prototype)}}j.PermissionsError=nt;Object.defineProperty(ee,"__esModule",{value:!0});ee.Wallet=void 0;const Re=B,oe=j;class gd{constructor(t){this.communicator=t}async getPermissions(){return(await this.communicator.send(Re.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(t){if(!this.isPermissionRequestValid(t))throw new oe.PermissionsError("Permissions request is invalid",oe.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(Re.Methods.wallet_requestPermissions,t)).data}catch{throw new oe.PermissionsError("Permissions rejected",oe.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(t){return t.every(n=>typeof n=="object"?Object.keys(n).every(s=>!!Object.values(Re.RestrictedMethods).includes(s)):!1)}}ee.Wallet=gd;Object.defineProperty(st,"__esModule",{value:!0});const pd=ee,yt=j,bt=(e,t)=>t.some(n=>n.parentCapability===e),yd=()=>(e,t,n)=>{const s=n.value;return n.value=async function(){const a=new pd.Wallet(this.communicator);let r=await a.getPermissions();if(bt(t,r)||(r=await a.requestPermissions([{[t]:{}}])),!bt(t,r))throw new yt.PermissionsError("Permissions rejected",yt.PERMISSIONS_REQUEST_REJECTED);return s.apply(this)},n};st.default=yd;var bd=I&&I.__decorate||function(e,t,n,s){var a=arguments.length,r=a<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},wd=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.Safe=void 0;const ie=fd,wt=U,N=B,_t=V,_d=Ee,Ed=wd(st);class Hs{constructor(t){this.communicator=t}async getChainInfo(){return(await this.communicator.send(N.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(N.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:t="usd"}={}){return(await this.communicator.send(N.Methods.getSafeBalances,{currency:t})).data}async check1271Signature(t,n="0x"){const s=await this.getInfo(),a=(0,ie.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),r={call:_t.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:a},"latest"]};try{return(await this.communicator.send(N.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===wt.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(t,n="0x"){const s=await this.getInfo(),a=(0,ie.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,n]}),r={call:_t.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:a},"latest"]};try{return(await this.communicator.send(N.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===wt.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(t){return(0,ie.hashMessage)(t)}calculateTypedMessageHash(t){const n=typeof t.domain.chainId=="object"?t.domain.chainId.toNumber():Number(t.domain.chainId);let s=t.primaryType;if(!s){const a=Object.values(t.types),r=Object.keys(t.types).filter(o=>a.every(c=>c.every(({type:i})=>i.replace("[","").replace("]","")!==o)));if(r.length===0||r.length>1)throw new Error("Please specify primaryType");s=r[0]}return(0,ie.hashTypedData)({message:t.message,domain:{...t.domain,chainId:n,verifyingContract:t.domain.verifyingContract,salt:t.domain.salt},types:t.types,primaryType:s})}async getOffChainSignature(t){return(await this.communicator.send(N.Methods.getOffChainSignature,t)).data}async isMessageSigned(t,n="0x"){let s;if(typeof t=="string"&&(s=async()=>{const a=this.calculateMessageHash(t);return await this.isMessageHashSigned(a,n)}),(0,_d.isObjectEIP712TypedData)(t)&&(s=async()=>{const a=this.calculateTypedMessageHash(t);return await this.isMessageHashSigned(a,n)}),s)return await s();throw new Error("Invalid message type")}async isMessageHashSigned(t,n="0x"){const s=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const a of s)if(await a(t,n))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(N.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(N.Methods.requestAddressBook,void 0)).data}}Te.Safe=Hs;bd([(0,Ed.default)()],Hs.prototype,"requestAddressBook",null);var xd=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(le,"__esModule",{value:!0});const vd=xd(Os),Td=_e,Sd=ve,Pd=Te,Id=ee;class Cd{constructor(t={}){const{allowedDomains:n=null,debug:s=!1}=t;this.communicator=new vd.default(n,s),this.eth=new Sd.Eth(this.communicator),this.txs=new Td.TXs(this.communicator),this.safe=new Pd.Safe(this.communicator),this.wallet=new Id.Wallet(this.communicator)}}le.default=Cd;(function(e){var t=I&&I.__createBinding||(Object.create?function(o,c,i,u){u===void 0&&(u=i);var f=Object.getOwnPropertyDescriptor(c,i);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[i]}}),Object.defineProperty(o,u,f)}:function(o,c,i,u){u===void 0&&(u=i),o[u]=c[i]}),n=I&&I.__exportStar||function(o,c){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(c,i)&&t(c,o,i)},s=I&&I.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const a=s(le);e.default=a.default,n(le,e),n(Ee,e),n(B,e),n(X,e);var r=Z;Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return r.getSDKVersion}}),n(V,e)})(qs);var $={};Object.defineProperty($,"__esModule",{value:!0});$.numberToHex=$.getLowerCase=void 0;function Ad(e){return e&&e.toLowerCase()}$.getLowerCase=Ad;function Rd(e){return`0x${e.toString(16)}`}$.numberToHex=Rd;Object.defineProperty(ye,"__esModule",{value:!0});ye.SafeAppProvider=void 0;const H=qs,kd=yc,k=$;class Bd extends kd.EventEmitter{constructor(t,n){super(),this.submittedTxs=new Map,this.safe=t,this.sdk=n}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(t){var a,r,o,c;const{method:n,params:s=[]}=t;switch(n){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,k.numberToHex)(this.chainId);case"personal_sign":{const[m,d]=s;if(this.safe.safeAddress.toLowerCase()!==d.toLowerCase())throw new Error("The address or message hash is invalid");const l=await this.sdk.txs.signMessage(m);return("signature"in l?l.signature:void 0)||"0x"}case"eth_sign":{const[m,d]=s;if(this.safe.safeAddress.toLowerCase()!==m.toLowerCase()||!d.startsWith("0x"))throw new Error("The address or message hash is invalid");const l=await this.sdk.txs.signMessage(d);return("signature"in l?l.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[m,d]=s,l=typeof d=="string"?JSON.parse(d):d;if(this.safe.safeAddress.toLowerCase()!==m.toLowerCase())throw new Error("The address is invalid");const g=await this.sdk.txs.signTypedMessage(l);return("signature"in g?g.signature:void 0)||"0x"}case"eth_sendTransaction":const i={...s[0],value:s[0].value||"0",data:s[0].data||"0x"};typeof i.gas=="string"&&i.gas.startsWith("0x")&&(i.gas=parseInt(i.gas,16));const u=await this.sdk.txs.send({txs:[i],params:{safeTxGas:i.gas}});return this.submittedTxs.set(u.safeTxHash,{from:this.safe.safeAddress,hash:u.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:i.data,value:i.value,to:i.to,blockHash:null,blockNumber:null,transactionIndex:null}),u.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,k.getLowerCase)(s[0]),s[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,k.getLowerCase)(s[0]),s[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,k.getLowerCase)(s[0]),s[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,k.getLowerCase)(s[0]),s[1],s[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([s[0],s[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([s[0],s[1]]);case"eth_getTransactionByHash":let h=s[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.submittedTxs.has(h)?this.submittedTxs.get(h):this.sdk.eth.getTransactionByHash([h]).then(m=>(m&&(m.hash=s[0]),m));case"eth_getTransactionReceipt":{let m=s[0];try{m=(await this.sdk.txs.getBySafeTxHash(m)).txHash||m}catch{}return this.sdk.eth.getTransactionReceipt([m]).then(d=>(d&&(d.transactionHash=s[0]),d))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(s[0]);case"eth_call":return this.sdk.eth.call([s[0],s[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([s[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(s[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([s[0]]);case"wallet_sendCalls":{if(s[0].from!==this.safe.safeAddress)throw Error("Invalid from address");const m=s[0].calls.map((l,g)=>{if(l.chainId!==(0,k.numberToHex)(this.chainId))throw new Error(`Invalid call #${g}: Safe is not on chain ${l.chainId}`);if(!l.to)throw new Error(`Invalid call #${g}: missing "to" field`);return{to:l.to,data:l.data??"0x",value:l.value??(0,k.numberToHex)(0)}}),{safeTxHash:d}=await this.sdk.txs.send({txs:m});return d}case"wallet_getCallsStatus":{const m={[H.TransactionStatus.AWAITING_CONFIRMATIONS]:"PENDING",[H.TransactionStatus.AWAITING_EXECUTION]:"PENDING",[H.TransactionStatus.CANCELLED]:"CONFIRMED",[H.TransactionStatus.FAILED]:"CONFIRMED",[H.TransactionStatus.SUCCESS]:"CONFIRMED"},d=await this.sdk.txs.getBySafeTxHash(s[0]),l=m[d.txStatus];if(!d.txHash)return{status:l};const g=await this.sdk.eth.getTransactionReceipt([d.txHash]);if(!g)return{status:l};const p=((r=(a=d.txData)==null?void 0:a.dataDecoded)==null?void 0:r.method)!=="multiSend"?1:((c=(o=d.txData.dataDecoded.parameters)==null?void 0:o[0].valueDecoded)==null?void 0:c.length)??1,w=Number(g.blockNumber),E=Number(g.gasUsed),v=Array(p).fill({logs:g.logs,status:(0,k.numberToHex)(d.txStatus===H.TransactionStatus.SUCCESS?1:0),chainId:(0,k.numberToHex)(this.chainId),blockHash:g.blockHash,blockNumber:(0,k.numberToHex)(w),gasUsed:(0,k.numberToHex)(E),transactionHash:d.txHash});return{status:l,receipts:v}}case"wallet_showCallsStatus":throw new Error(`"${t.method}" not supported`);case"wallet_getCapabilities":return{[(0,k.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${t.method}" not implemented`)}}send(t,n){t||n("Undefined request"),this.request(t).then(s=>n(null,{jsonrpc:"2.0",id:t.id,result:s})).catch(s=>n(s,null))}}ye.SafeAppProvider=Bd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var t=ye;Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return t.SafeAppProvider}})})(tt);const Md=fc(tt),Dd=bc({__proto__:null,default:Md},[tt]);export{Dd as i};
